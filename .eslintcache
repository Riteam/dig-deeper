[{"D:\\react_game_demo\\src\\reportWebVitals.js":"1","D:\\react_game_demo\\src\\index.js":"2","D:\\react_game_demo\\src\\Board.js":"3","D:\\react_game_demo\\src\\App.js":"4","D:\\react_game_demo\\src\\Square.js":"5","D:\\react_game_demo\\src\\flip.js":"6","D:\\react_game_demo\\src\\assets\\js\\bus.js":"7"},{"size":362,"mtime":499162500000,"results":"8","hashOfConfig":"9"},{"size":511,"mtime":1606793780344,"results":"10","hashOfConfig":"9"},{"size":9801,"mtime":1607228992744,"results":"11","hashOfConfig":"9"},{"size":853,"mtime":1607173762013,"results":"12","hashOfConfig":"9"},{"size":4798,"mtime":1607179203455,"results":"13","hashOfConfig":"9"},{"size":204,"mtime":1607173501072,"results":"14","hashOfConfig":"9"},{"size":739,"mtime":1607009704511,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"10jhf04",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"D:\\react_game_demo\\src\\reportWebVitals.js",[],"D:\\react_game_demo\\src\\index.js",[],["32","33"],"D:\\react_game_demo\\src\\Board.js",["34","35","36","37"],"D:\\react_game_demo\\src\\App.js",["38","39","40"],"D:\\react_game_demo\\src\\Square.js",["41"],"import React from 'react';\r\nimport img1 from './assets/img/1.png'\r\nimport img2 from './assets/img/2.png'\r\nimport img3 from './assets/img/3.png'\r\nimport img4 from './assets/img/4.png'\r\nimport img5 from './assets/img/5.png'\r\nimport img6 from './assets/img/6.png'\r\nimport img7 from './assets/img/7.png'\r\n\r\nconst imgs = {\r\n  1: img1,\r\n  2: img2,\r\n  3: img3,\r\n  4: img4,\r\n  5: img5,\r\n  6: img6,\r\n  7: img7,\r\n}\r\n\r\n// 下标转坐标\r\nfunction index2Coord(index) {\r\n  const len = 7\r\n  return [index % len, index / len | 0]\r\n}\r\n\r\nexport default class Square extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n\r\n      on: false,\r\n      // style: {}\r\n    }\r\n    this.myRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    let { id, index, dropHeight } = this.props\r\n    if (id > 49 && dropHeight > 0) {\r\n      console.log(123, dropHeight);\r\n      console.log(index);\r\n      let el = this.myRef.current\r\n      // let Y = index / 7 | 0\r\n      el.animate(\r\n        [\r\n          { transform: `translateY(-${dropHeight * 100}px)` },\r\n          { transform: `translateY(0)` }\r\n        ],\r\n        {\r\n          duration: 85 * dropHeight,\r\n          easing: 'ease-in'\r\n        }\r\n      )\r\n        .finished.then(res => {\r\n          this.props.onFillEnd(this.props.index)\r\n        });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProp) {\r\n    let el = this.myRef.current,\r\n      currIndex = this.props.index\r\n\r\n    if (this.props.tripled) {\r\n      // el.animate(\r\n      //   [\r\n      //     { transform: `rotate(-90deg) scale()` },\r\n      //     { transform: `translate(0)` }\r\n      //   ],\r\n      //   {\r\n      //     duration: (Math.abs(x1 - x2) + Math.abs(y1 - y2)) * 85,\r\n      //     easing: 'ease-in'\r\n      //   }\r\n      // );\r\n    }\r\n    else if (this.props.index !== prevProp.index) {\r\n      // switch & drop animation\r\n      let [x1, y1] = [prevProp.index % 7, prevProp.index / 7 | 0],\r\n        [x2, y2] = [this.props.index % 7, this.props.index / 7 | 0]\r\n      el.animate(\r\n        [\r\n          { transform: `translate(${(x1 - x2) * 100}px, ${(y1 - y2) * 100}px)`, zIndex: prevProp.on ? 2 : 1 },\r\n          { transform: `translate(0)`, zIndex: prevProp.on ? 2 : 1 }\r\n        ],\r\n        {\r\n          duration: (Math.abs(x1 - x2) + Math.abs(y1 - y2)) * 85,\r\n          easing: 'ease-in'\r\n        }\r\n      )\r\n        .finished.then(res => {\r\n          this.props.onSwitchEnd(this.props.index)\r\n        })\r\n      // console.log(x1 - x2, y1 - y2, (Math.abs(x1 - x2) + Math.abs(y1 - y2)) * 100);\r\n    } else if (this.props.to >= 0 && this.props.to !== prevProp.to) {\r\n      console.log(this.props, '???');\r\n      // fly to core animtion\r\n      let [x1, y1] = index2Coord(currIndex),\r\n        [x2, y2] = index2Coord(this.props.to)\r\n      el.animate([\r\n        { transform: `translate(0) scale(1)`, opacity: 1 },\r\n        { transform: `translate(${(x2 - x1) * 60}px, ${(y2 - y1) * 60}px)scale(.5)`, opacity: 1 },\r\n        { transform: `translate(${(x2 - x1) * 100}px, ${(y2 - y1) * 100}px)scale(0)`, opacity: .1 }\r\n      ],\r\n        {\r\n          duration: 300,\r\n          easing: 'linear',\r\n          fill: 'forwards'\r\n        })\r\n    } else if (this.props.type === 8 && prevProp.type !== 8) {\r\n      console.log(this.props, prevProp.type, '！！！')\r\n      el.animate([\r\n        {\r\n          transform: `translateY(0) scale(1)`,\r\n          backgroundImage: `url(${imgs[prevProp.type]})`,\r\n          zIndex: 3\r\n        },\r\n        {\r\n          transform: `translateY(50px) scale(0)`,\r\n          zIndex: 3,\r\n          offset: 0.8,\r\n        },\r\n        {\r\n          transform: `translateY(0) scale(1)`,\r\n          zIndex: 3\r\n        },\r\n      ],\r\n        {\r\n          duration: 400,\r\n          easing: `cubic-bezier(.175, .885, .32, 1.275)`\r\n        }).finished.then(res => {\r\n          this.props.onDestroyEnd()\r\n        })\r\n    }\r\n  }\r\n\r\n  tnHandler = (e) => {\r\n    if (e.propertyName === 'transform') {\r\n      this.props.onDestroyEnd()\r\n    }\r\n  }\r\n  render() {\r\n    // if (this.props.index <= 1) {\r\n    //   // console.log(11, this.props);\r\n    // }\r\n    let classNames = ['icon']\r\n    let index = this.props.index\r\n\r\n    if (this.props.type) classNames.push('t' + this.props.type)\r\n    if (this.props.tripled) classNames.push('tripled')\r\n    // if (this.props.on) classNames.push('on')\r\n    if (this.props.to >= 0) classNames.push('to')\r\n\r\n    return <div\r\n      className={'squares ' + (this.props.on ? 'on' : '')}\r\n      onClick={this.props.onClick}\r\n    >\r\n      <div\r\n        ref={this.myRef}\r\n        onTransitionEnd={this.tnHandler}\r\n        className={classNames.join(' ')}></div>\r\n      {/* <p className=\"testfont\">\r\n        type:{this.props.type} <br />\r\n        index:{this.props.index} <br />\r\n        id:{this.props.id}\r\n      </p> */}\r\n    </div>\r\n  }\r\n}","D:\\react_game_demo\\src\\flip.js",[],"D:\\react_game_demo\\src\\assets\\js\\bus.js",[],{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":25,"column":10,"nodeType":"48","messageId":"49","endLine":25,"endColumn":19},{"ruleId":"46","severity":1,"message":"50","line":30,"column":10,"nodeType":"48","messageId":"49","endLine":30,"endColumn":19},{"ruleId":"46","severity":1,"message":"51","line":39,"column":10,"nodeType":"48","messageId":"49","endLine":39,"endColumn":24},{"ruleId":"46","severity":1,"message":"52","line":140,"column":11,"nodeType":"48","messageId":"49","endLine":140,"endColumn":19},{"ruleId":"46","severity":1,"message":"53","line":1,"column":8,"nodeType":"48","messageId":"49","endLine":1,"endColumn":12},{"ruleId":"46","severity":1,"message":"54","line":5,"column":8,"nodeType":"48","messageId":"49","endLine":5,"endColumn":20},{"ruleId":"46","severity":1,"message":"55","line":7,"column":10,"nodeType":"48","messageId":"49","endLine":7,"endColumn":18},{"ruleId":"46","severity":1,"message":"56","line":146,"column":9,"nodeType":"48","messageId":"49","endLine":146,"endColumn":14},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'nextFrame' is defined but never used.","Identifier","unusedVar","'getManDis' is defined but never used.","'getShapeCenter' is defined but never used.","'distance' is assigned a value but never used.","'logo' is defined but never used.","'messagePanel' is defined but never used.","'useState' is defined but never used.","'index' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]